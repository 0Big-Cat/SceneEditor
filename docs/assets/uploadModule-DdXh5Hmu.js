import{c as le,b as oe,i as P,d as te,u as ie,U as F,a as M,e as $,f as A,C as K,I as L,g as Z,h as se,j as ue,k as de,l as ce,m as re,n as k,r as D,w as G,o as ve,p as u,q as y,s as t,t as n,v as b,x as pe,y as m,z as C,E as S,A as h,B as N,D as H,F as fe,G as me,H as he,J as T,K as B,L as ye,_ as be,M as Ve,N as ge,O as R,P as ke,Q as Ie,R as we,S as Ce,T as Se,V as Ne,W as j,X as q,Y as Te,Z as J,$ as Q,a0 as ze,a1 as Ee,a2 as X,a3 as Y,a4 as _e,a5 as Pe}from"./index-k3IKlCvZ.js";const Me=v=>["",...le].includes(v),Be=oe({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Me},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:P},activeActionIcon:{type:P},activeIcon:{type:P},inactiveIcon:{type:P},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:te(Function)},id:String,tabindex:{type:[String,Number]},...ie(["ariaLabel"])}),Ue={[F]:v=>M(v)||$(v)||A(v),[K]:v=>M(v)||$(v)||A(v),[L]:v=>M(v)||$(v)||A(v)},ee="ElSwitch",$e=Z({name:ee}),Ae=Z({...$e,props:Be,emits:Ue,setup(v,{expose:z,emit:i}){const r=v,{formItem:I}=se(),E=ue(),d=de("switch"),{inputId:U}=ce(r,{formItemContext:I}),w=re(k(()=>r.loading)),s=D(r.modelValue!==!1),a=D(),o=D(),V=k(()=>[d.b(),d.m(E.value),d.is("disabled",w.value),d.is("checked",p.value)]),l=k(()=>[d.e("label"),d.em("label","left"),d.is("active",!p.value)]),c=k(()=>[d.e("label"),d.em("label","right"),d.is("active",p.value)]),g=k(()=>({width:Ve(r.width)}));G(()=>r.modelValue,()=>{s.value=!0});const x=k(()=>s.value?r.modelValue:!1),p=k(()=>x.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(x.value)||(i(F,r.inactiveValue),i(K,r.inactiveValue),i(L,r.inactiveValue)),G(p,e=>{var f;a.value.checked=e,r.validateEvent&&((f=I==null?void 0:I.validate)==null||f.call(I,"change").catch(ne=>ge()))});const _=()=>{const e=p.value?r.inactiveValue:r.activeValue;i(F,e),i(K,e),i(L,e),he(()=>{a.value.checked=p.value})},O=()=>{if(w.value)return;const{beforeChange:e}=r;if(!e){_();return}const f=e();[R(f),M(f)].includes(!0)||ke(ee,"beforeChange must return type `Promise<boolean>` or `boolean`"),R(f)?f.then(W=>{W&&_()}).catch(W=>{}):f&&_()},ae=()=>{var e,f;(f=(e=a.value)==null?void 0:e.focus)==null||f.call(e)};return ve(()=>{a.value.checked=p.value}),z({focus:ae,checked:p}),(e,f)=>(u(),y("div",{class:b(n(V)),onClick:me(O,["prevent"])},[t("input",{id:n(U),ref_key:"input",ref:a,class:b(n(d).e("input")),type:"checkbox",role:"switch","aria-checked":n(p),"aria-disabled":n(w),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:n(w),tabindex:e.tabindex,onChange:_,onKeydown:pe(O,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(u(),y("span",{key:0,class:b(n(l))},[e.inactiveIcon?(u(),m(n(S),{key:0},{default:C(()=>[(u(),m(T(e.inactiveIcon)))]),_:1})):h("v-if",!0),!e.inactiveIcon&&e.inactiveText?(u(),y("span",{key:1,"aria-hidden":n(p)},N(e.inactiveText),9,["aria-hidden"])):h("v-if",!0)],2)):h("v-if",!0),t("span",{ref_key:"core",ref:o,class:b(n(d).e("core")),style:fe(n(g))},[e.inlinePrompt?(u(),y("div",{key:0,class:b(n(d).e("inner"))},[e.activeIcon||e.inactiveIcon?(u(),m(n(S),{key:0,class:b(n(d).is("icon"))},{default:C(()=>[(u(),m(T(n(p)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(u(),y("span",{key:1,class:b(n(d).is("text")),"aria-hidden":!n(p)},N(n(p)?e.activeText:e.inactiveText),11,["aria-hidden"])):h("v-if",!0)],2)):h("v-if",!0),t("div",{class:b(n(d).e("action"))},[e.loading?(u(),m(n(S),{key:0,class:b(n(d).is("loading"))},{default:C(()=>[B(n(ye))]),_:1},8,["class"])):n(p)?H(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(u(),m(n(S),{key:0},{default:C(()=>[(u(),m(T(e.activeActionIcon)))]),_:1})):h("v-if",!0)]):n(p)?h("v-if",!0):H(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(u(),m(n(S),{key:0},{default:C(()=>[(u(),m(T(e.inactiveActionIcon)))]),_:1})):h("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(u(),y("span",{key:1,class:b(n(c))},[e.activeIcon?(u(),m(n(S),{key:0},{default:C(()=>[(u(),m(T(e.activeIcon)))]),_:1})):h("v-if",!0),!e.activeIcon&&e.activeText?(u(),y("span",{key:1,"aria-hidden":!n(p)},N(e.activeText),9,["aria-hidden"])):h("v-if",!0)],2)):h("v-if",!0)],10,["onClick"]))}});var De=be(Ae,[["__file","switch.vue"]]);const Fe=Ie(De),Ke={id:"uploadmodule"},Le={class:"custom-file-upload"},xe={class:"modelName"},Oe=["onUpdate:modelValue","onInput"],We=["onUpdate:modelValue","onChange"],Ge=["onClick"],He=["onClick"],Re=["onClick"],je={__name:"uploadModule",setup(v){const z=Ce(),i=Se(),r=s=>{const a=s.target.files;i.uploadvalue=i.uploadvalue.filter(o=>o.name!==""),Array.from(a).filter(o=>o.name.endsWith(".gltf")||o.name.endsWith(".glb")).map(o=>{const V={name:o.name,x:0,y:0,z:0,s:1,showhidden:!0};i.uploadvalue.push(V)}),z.loadingvalue=0,z.loadingshow=!0,Te(a)},I=s=>{s&&(i.uploadvalue=i.uploadvalue.filter(a=>a.name!==s),Ee(s)),i.uploadvalue.length===0&&i.uploadvalue.push({name:"",x:0,y:0,z:0,s:1})},E=(s,a)=>{const o=i.uploadvalue.find(V=>V.name===s);o&&(o.x=Number(a.x),o.y=Number(a.y),o.z=Number(a.z),X(s,{x:o.x,y:o.y,z:o.z}))},d=(s,a)=>{const o=i.uploadvalue.find(V=>V.name===s);o&&(o.s=Number(a.s),Y(s,{s:o.s}))},U=s=>{const a=i.uploadvalue.find(o=>o.name===s);a&&(a.x=0,a.y=0,a.z=0,a.s=1,X(s,{x:a.x,y:a.y,z:a.z}),Y(s,{s:a.s}))},w=s=>{const a=i.uploadvalue.find(o=>o.name===s);a&&(a.showhidden=!a.showhidden,_e(s,a.showhidden))};return(s,a)=>{const o=Pe,V=Fe;return u(),y("div",Ke,[t("div",null,[t("label",Le,[a[2]||(a[2]=Ne(" 上传模型 ")),t("input",{type:"file",id:"fileInput",multiple:"",onChange:r},null,32)])]),t("ul",null,[(u(!0),y(j,null,q(n(i).uploadvalue,l=>(u(),y("li",{key:l.name},[t("div",xe,"模型名称-"+N(l.name),1),t("div",null,[(u(),y(j,null,q(["x","y","z"],c=>t("div",{key:c},[t("span",null,"position-"+N(c),1),t("div",null,[B(o,{modelValue:l[c],"onUpdate:modelValue":g=>l[c]=g,precision:2,step:.01,max:100,min:-100,onInput:g=>E(l.name,{x:l.x,y:l.y,z:l.z})},null,8,["modelValue","onUpdate:modelValue","onInput"]),J(t("input",{type:"number","onUpdate:modelValue":g=>l[c]=g,max:"100",min:"0",onInput:g=>E(l.name,{x:l.x,y:l.y,z:l.z})},null,40,Oe),[[Q,l[c]]])])])),64))]),t("div",null,[t("div",null,[a[3]||(a[3]=t("span",null,"scale",-1)),t("div",null,[B(o,{modelValue:l.s,"onUpdate:modelValue":c=>l.s=c,precision:2,step:.01,max:10,min:0,onInput:c=>d(l.name,{s:l.s})},null,8,["modelValue","onUpdate:modelValue","onInput"]),J(t("input",{type:"number","onUpdate:modelValue":c=>l.s=c,onChange:c=>d(l.name,{s:l.s})},null,40,We),[[Q,l.s]])])])]),t("div",null,[t("div",null,[B(V,{modelValue:n(i).panelValue,"onUpdate:modelValue":a[0]||(a[0]=c=>n(i).panelValue=c),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"},"active-text":"查看Mesh","inactive-text":"查看Mesh",onChange:a[1]||(a[1]=c=>n(ze)(n(i).panelValue))},null,8,["modelValue"]),t("div",null,[t("button",{onClick:c=>I(l.name)},"删除",8,Ge),t("button",{onClick:c=>U(l.name)},"重置",8,He),t("button",{onClick:c=>w(l.name)},N(l.showhidden?"隐藏":"显示"),9,Re)])])])]))),128))])])}}},Je=we(je,[["__scopeId","data-v-85ba6076"]]);export{Je as default};
