import{r as x,a9 as N,aj as E,m as u,s as l,e as b,aa as $,b as V,a8 as z,j as Q,bl as be,bm as he,bn as Ie,ai as xe,d as B,f as k,n as y,p as D,B as W,H as A,y as T,V as ee,q as L,t as C,D as ne,A as se,ax as te,aw as oe,_ as ae,M as we,bo as Se,o as Ee,w as Te,x as I,z as S,G as Ne,R as ze,E as Be,bp as _e,a as F,bq as le,i as P,ap as ke,br as H,bs as Oe}from"./index-BQRHUikl.js";import{b as Me,l as De,m as Le,a as $e,c as Ve}from"./index-BSg6Mf52.js";import{a as R,i as Ae,T as U,E as G,e as Ze}from"./index-DKLPyJs3.js";const q=n=>Object.keys(n),je={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},J={current:0},Y=x(0),re=2e3,X=Symbol("elZIndexContextKey"),ie=Symbol("zIndexContextKey"),Ke=n=>{const t=N()?E(X,J):J,e=n||(N()?E(ie,void 0):void 0),o=u(()=>{const a=l(e);return b(a)?a:re}),s=u(()=>o.value+Y.value),c=()=>(t.current++,Y.value=t.current,s.value);return!$&&E(X),{initialZIndex:o,currentZIndex:s,nextZIndex:c}},Fe=Symbol("emptyValuesContextKey"),gn=V({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:n=>z(n)?!n():!n}}),ue=Symbol(),_=x();function ce(n,t=void 0){return N()?E(ue,_):_}function Pe(n,t){const e=ce(),o=Q(n,u(()=>{var r;return((r=e.value)==null?void 0:r.namespace)||be})),s=Me(u(()=>{var r;return(r=e.value)==null?void 0:r.locale})),c=Ke(u(()=>{var r;return((r=e.value)==null?void 0:r.zIndex)||re})),a=u(()=>{var r;return l(t)||((r=e.value)==null?void 0:r.size)||""});return He(u(()=>l(e)||{})),{ns:o,locale:s,zIndex:c,size:a}}const He=(n,t,e=!1)=>{var o;const s=!!N(),c=s?ce():void 0,a=(o=void 0)!=null?o:s?xe:void 0;if(!a)return;const r=u(()=>{const p=l(n);return c!=null&&c.value?Re(c.value,p):p});return a(ue,r),a(De,u(()=>r.value.locale)),a(he,u(()=>r.value.namespace)),a(ie,u(()=>r.value.zIndex)),a(Ie,{size:u(()=>r.value.size||"")}),a(Fe,u(()=>({emptyValues:r.value.emptyValues,valueOnClear:r.value.valueOnClear}))),(e||!_.value)&&(_.value=r.value),r},Re=(n,t)=>{const e=[...new Set([...q(n),...q(t)])],o={};for(const s of e)o[s]=t[s]!==void 0?t[s]:n[s];return o},m={},Ue=V({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:B([String,Object,Array])},offset:{type:B(Array),default:[0,0]},badgeClass:{type:String}}),Ge=k({name:"ElBadge"}),qe=k({...Ge,props:Ue,setup(n,{expose:t}){const e=n,o=Q("badge"),s=u(()=>e.isDot?"":b(e.value)&&b(e.max)?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`),c=u(()=>{var a,r,p,g,v;return[{backgroundColor:e.color,marginRight:R(-((r=(a=e.offset)==null?void 0:a[0])!=null?r:0)),marginTop:R((g=(p=e.offset)==null?void 0:p[1])!=null?g:0)},(v=e.badgeStyle)!=null?v:{}]});return t({content:s}),(a,r)=>(y(),D("div",{class:C(l(o).b())},[W(a.$slots,"default"),A(oe,{name:`${l(o).namespace.value}-zoom-in-center`,persisted:""},{default:T(()=>[ee(L("sup",{class:C([l(o).e("content"),l(o).em("content",a.type),l(o).is("fixed",!!a.$slots.default),l(o).is("dot",a.isDot),l(o).is("hide-zero",!a.showZero&&e.value===0),a.badgeClass]),style:ne(l(c)),textContent:se(l(s))},null,14,["textContent"]),[[te,!a.hidden&&(l(s)||a.isDot)]])]),_:1},8,["name"])],2))}});var Je=ae(qe,[["__file","badge.vue"]]);const Ye=we(Je),de=["success","info","warning","error"],d=Le({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:$?document.body:void 0}),Xe=V({customClass:{type:String,default:d.customClass},center:{type:Boolean,default:d.center},dangerouslyUseHTMLString:{type:Boolean,default:d.dangerouslyUseHTMLString},duration:{type:Number,default:d.duration},icon:{type:Ae,default:d.icon},id:{type:String,default:d.id},message:{type:B([String,Object,Function]),default:d.message},onClose:{type:B(Function),default:d.onClose},showClose:{type:Boolean,default:d.showClose},type:{type:String,values:de,default:d.type},plain:{type:Boolean,default:d.plain},offset:{type:Number,default:d.offset},zIndex:{type:Number,default:d.zIndex},grouping:{type:Boolean,default:d.grouping},repeatNum:{type:Number,default:d.repeatNum}}),Qe={destroy:()=>!0},f=Se([]),We=n=>{const t=f.findIndex(s=>s.id===n),e=f[t];let o;return t>0&&(o=f[t-1]),{current:e,prev:o}},en=n=>{const{prev:t}=We(n);return t?t.vm.exposed.bottom.value:0},nn=(n,t)=>f.findIndex(o=>o.id===n)>0?16:t,sn=k({name:"ElMessage"}),tn=k({...sn,props:Xe,emits:Qe,setup(n,{expose:t}){const e=n,{Close:o}=Ze,{ns:s,zIndex:c}=Pe("message"),{currentZIndex:a,nextZIndex:r}=c,p=x(),g=x(!1),v=x(0);let O;const fe=u(()=>e.type?e.type==="error"?"danger":e.type:"info"),me=u(()=>{const i=e.type;return{[s.bm("icon",i)]:i&&U[i]}}),Z=u(()=>e.icon||U[e.type]||""),ge=u(()=>en(e.id)),j=u(()=>nn(e.id,e.offset)+ge.value),ve=u(()=>v.value+j.value),ye=u(()=>({top:`${j.value}px`,zIndex:a.value}));function M(){e.duration!==0&&({stop:O}=_e(()=>{w()},e.duration))}function K(){O==null||O()}function w(){g.value=!1}function Ce({code:i}){i===je.esc&&w()}return Ee(()=>{M(),r(),g.value=!0}),Te(()=>e.repeatNum,()=>{K(),M()}),$e(document,"keydown",Ce),Ve(p,()=>{v.value=p.value.getBoundingClientRect().height}),t({visible:g,bottom:ve,close:w}),(i,cn)=>(y(),I(oe,{name:l(s).b("fade"),onBeforeLeave:i.onClose,onAfterLeave:dn=>i.$emit("destroy"),persisted:""},{default:T(()=>[ee(L("div",{id:i.id,ref_key:"messageRef",ref:p,class:C([l(s).b(),{[l(s).m(i.type)]:i.type},l(s).is("center",i.center),l(s).is("closable",i.showClose),l(s).is("plain",i.plain),i.customClass]),style:ne(l(ye)),role:"alert",onMouseenter:K,onMouseleave:M},[i.repeatNum>1?(y(),I(l(Ye),{key:0,value:i.repeatNum,type:l(fe),class:C(l(s).e("badge"))},null,8,["value","type","class"])):S("v-if",!0),l(Z)?(y(),I(l(G),{key:1,class:C([l(s).e("icon"),l(me)])},{default:T(()=>[(y(),I(Ne(l(Z))))]),_:1},8,["class"])):S("v-if",!0),W(i.$slots,"default",{},()=>[i.dangerouslyUseHTMLString?(y(),D(ze,{key:1},[S(" Caution here, message could've been compromised, never use user's input as message "),L("p",{class:C(l(s).e("content")),innerHTML:i.message},null,10,["innerHTML"])],2112)):(y(),D("p",{key:0,class:C(l(s).e("content"))},se(i.message),3))]),i.showClose?(y(),I(l(G),{key:2,class:C(l(s).e("closeBtn")),onClick:Be(w,["stop"])},{default:T(()=>[A(l(o))]),_:1},8,["class","onClick"])):S("v-if",!0)],46,["id"]),[[te,g.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var on=ae(tn,[["__file","message.vue"]]);let an=1;const pe=n=>{const t=!n||F(n)||le(n)||z(n)?{message:n}:n,e={...d,...t};if(!e.appendTo)e.appendTo=document.body;else if(F(e.appendTo)){let o=document.querySelector(e.appendTo);ke(o)||(o=document.body),e.appendTo=o}return P(m.grouping)&&!e.grouping&&(e.grouping=m.grouping),b(m.duration)&&e.duration===3e3&&(e.duration=m.duration),b(m.offset)&&e.offset===16&&(e.offset=m.offset),P(m.showClose)&&!e.showClose&&(e.showClose=m.showClose),e},ln=n=>{const t=f.indexOf(n);if(t===-1)return;f.splice(t,1);const{handler:e}=n;e.close()},rn=({appendTo:n,...t},e)=>{const o=`message_${an++}`,s=t.onClose,c=document.createElement("div"),a={...t,id:o,onClose:()=>{s==null||s(),ln(v)},onDestroy:()=>{H(null,c)}},r=A(on,a,z(a.message)||le(a.message)?{default:z(a.message)?a.message:()=>a.message}:null);r.appContext=e||h._context,H(r,c),n.appendChild(c.firstElementChild);const p=r.component,v={id:o,vnode:r,vm:p,handler:{close:()=>{p.exposed.visible.value=!1}},props:r.component.props};return v},h=(n={},t)=>{if(!$)return{close:()=>{}};const e=pe(n);if(e.grouping&&f.length){const s=f.find(({vnode:c})=>{var a;return((a=c.props)==null?void 0:a.message)===e.message});if(s)return s.props.repeatNum+=1,s.props.type=e.type,s.handler}if(b(m.max)&&f.length>=m.max)return{close:()=>{}};const o=rn(e,t);return f.push(o),o.handler};de.forEach(n=>{h[n]=(t={},e)=>{const o=pe(t);return h({...o,type:n},e)}});function un(n){for(const t of f)(!n||n===t.props.type)&&t.handler.close()}h.closeAll=un;h._context=null;const vn=Oe(h,"$message");export{vn as E,je as a,Ke as u};
