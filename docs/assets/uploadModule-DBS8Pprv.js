import{c as le,b as te,d as oe,u as ie,U as D,i as P,a as A,e as _,C as U,I as F,f as X,g as se,h as ue,j as de,k as ce,l as re,m as g,r as $,w as O,o as ve,n as s,p as y,q as u,s as n,t as b,v as pe,x as m,y as V,z as h,A as S,B as W,D as fe,E as me,F as he,G as C,H as Y,_ as ye,J as be,K as G,L as ge,M as ke,N as Ie,O as Ve,P as we,Q as Ce,R as H,S as R,T as Se,V as j,W as q,X as Ne,Y as Te,Z as J,$ as Q,a0 as Ee}from"./index-43mWrYx1.js";import{i as z,E as w,l as ze,a as Pe}from"./index-ChgH4ACI.js";const Be=r=>["",...le].includes(r),Me=te({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Be},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:z},activeActionIcon:{type:z},activeIcon:{type:z},inactiveIcon:{type:z},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:oe(Function)},id:String,tabindex:{type:[String,Number]},...ie(["ariaLabel"])}),Ae={[D]:r=>P(r)||A(r)||_(r),[U]:r=>P(r)||A(r)||_(r),[F]:r=>P(r)||A(r)||_(r)},Z="ElSwitch",_e=X({name:Z}),$e=X({..._e,props:Me,emits:Ae,setup(r,{expose:N,emit:o}){const c=r,{formItem:k}=se(),B=ue(),d=de("switch"),{inputId:M}=ce(c,{formItemContext:k}),I=re(g(()=>c.loading)),i=$(c.modelValue!==!1),a=$(),l=$(),t=g(()=>[d.b(),d.m(B.value),d.is("disabled",I.value),d.is("checked",v.value)]),p=g(()=>[d.e("label"),d.em("label","left"),d.is("active",!v.value)]),T=g(()=>[d.e("label"),d.em("label","right"),d.is("active",v.value)]),ee=g(()=>({width:Pe(c.width)}));O(()=>c.modelValue,()=>{i.value=!0});const K=g(()=>i.value?c.modelValue:!1),v=g(()=>K.value===c.activeValue);[c.activeValue,c.inactiveValue].includes(K.value)||(o(D,c.inactiveValue),o(U,c.inactiveValue),o(F,c.inactiveValue)),O(v,e=>{var f;a.value.checked=e,c.validateEvent&&((f=k==null?void 0:k.validate)==null||f.call(k,"change").catch(ne=>be()))});const E=()=>{const e=v.value?c.inactiveValue:c.activeValue;o(D,e),o(U,e),o(F,e),he(()=>{a.value.checked=v.value})},L=()=>{if(I.value)return;const{beforeChange:e}=c;if(!e){E();return}const f=e();[G(f),P(f)].includes(!0)||ge(Z,"beforeChange must return type `Promise<boolean>` or `boolean`"),G(f)?f.then(x=>{x&&E()}).catch(x=>{}):f&&E()},ae=()=>{var e,f;(f=(e=a.value)==null?void 0:e.focus)==null||f.call(e)};return ve(()=>{a.value.checked=v.value}),N({focus:ae,checked:v}),(e,f)=>(s(),y("div",{class:b(n(t)),onClick:me(L,["prevent"])},[u("input",{id:n(M),ref_key:"input",ref:a,class:b(n(d).e("input")),type:"checkbox",role:"switch","aria-checked":n(v),"aria-disabled":n(I),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:n(I),tabindex:e.tabindex,onChange:E,onKeydown:pe(L,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(s(),y("span",{key:0,class:b(n(p))},[e.inactiveIcon?(s(),m(n(w),{key:0},{default:V(()=>[(s(),m(C(e.inactiveIcon)))]),_:1})):h("v-if",!0),!e.inactiveIcon&&e.inactiveText?(s(),y("span",{key:1,"aria-hidden":n(v)},S(e.inactiveText),9,["aria-hidden"])):h("v-if",!0)],2)):h("v-if",!0),u("span",{ref_key:"core",ref:l,class:b(n(d).e("core")),style:fe(n(ee))},[e.inlinePrompt?(s(),y("div",{key:0,class:b(n(d).e("inner"))},[e.activeIcon||e.inactiveIcon?(s(),m(n(w),{key:0,class:b(n(d).is("icon"))},{default:V(()=>[(s(),m(C(n(v)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(s(),y("span",{key:1,class:b(n(d).is("text")),"aria-hidden":!n(v)},S(n(v)?e.activeText:e.inactiveText),11,["aria-hidden"])):h("v-if",!0)],2)):h("v-if",!0),u("div",{class:b(n(d).e("action"))},[e.loading?(s(),m(n(w),{key:0,class:b(n(d).is("loading"))},{default:V(()=>[Y(n(ze))]),_:1},8,["class"])):n(v)?W(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(s(),m(n(w),{key:0},{default:V(()=>[(s(),m(C(e.activeActionIcon)))]),_:1})):h("v-if",!0)]):n(v)?h("v-if",!0):W(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(s(),m(n(w),{key:0},{default:V(()=>[(s(),m(C(e.inactiveActionIcon)))]),_:1})):h("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(s(),y("span",{key:1,class:b(n(T))},[e.activeIcon?(s(),m(n(w),{key:0},{default:V(()=>[(s(),m(C(e.activeIcon)))]),_:1})):h("v-if",!0),!e.activeIcon&&e.activeText?(s(),y("span",{key:1,"aria-hidden":!n(v)},S(e.activeText),9,["aria-hidden"])):h("v-if",!0)],2)):h("v-if",!0)],10,["onClick"]))}});var De=ye($e,[["__file","switch.vue"]]);const Ue=ke(De),Fe={id:"uploadmodule"},Ke={class:"custom-file-upload"},Le={class:"modelName"},xe=["onUpdate:modelValue","onInput"],Oe=["onUpdate:modelValue","onInput"],We=["onClick"],Ge=["onClick"],He=["onClick"],Re={__name:"uploadModule",setup(r){const N=Ve();let o=we();const c=i=>{const a=i.target.files;o.uploadvalue=o.uploadvalue.filter(l=>l.name!==""),Array.from(a).filter(l=>l.name.endsWith(".gltf")||l.name.endsWith(".glb")).map(l=>{const t={name:l.name,x:0,y:0,z:0,s:1,showhidden:!0};o.uploadvalue.push(t)}),N.loadingvalue=0,N.loadingshow=!0,Se(a),console.log(o.uploadvalue)},k=i=>{i&&(o.uploadvalue=o.uploadvalue.filter(a=>a.name!==i),Te(i)),o.uploadvalue.length===0&&o.uploadvalue.push({name:"",x:0,y:0,z:0,s:1})},B=(i,a)=>{const l=o.uploadvalue.find(t=>t.name===i);l&&(l.x=Number(a.x),l.y=Number(a.y),l.z=Number(a.z),J(i,{x:l.x,y:l.y,z:l.z}))},d=(i,a)=>{const l=o.uploadvalue.find(t=>t.name===i);l&&(l.s=Number(a.s),Q(i,{s:l.s}))},M=i=>{const a=o.uploadvalue.find(l=>l.name===i);a&&(a.x=0,a.y=0,a.z=0,a.s=1,J(i,{x:a.x,y:a.y,z:a.z}),Q(i,{s:a.s}))},I=i=>{const a=o.uploadvalue.find(l=>l.name===i);a&&(a.showhidden=!a.showhidden,Ee(i,a.showhidden))};return(i,a)=>{const l=Ue;return s(),y("div",Fe,[u("div",null,[u("label",Ke,[a[2]||(a[2]=Ce(" 上传模型 ")),u("input",{type:"file",id:"fileInput",multiple:"",onChange:c},null,32)]),a[3]||(a[3]=u("h6",null,"Tips: gltf 需与.bin 纹理一同上传",-1))]),u("ul",null,[(s(!0),y(H,null,R(n(o).uploadvalue,t=>(s(),y("li",{key:t.name},[u("div",Le,"模型名称:"+S(t.name),1),u("div",null,[a[4]||(a[4]=u("span",null,"坐标:",-1)),(s(),y(H,null,R(["x","y","z"],p=>j(u("input",{key:p,type:"text","onUpdate:modelValue":T=>t[p]=T,onInput:T=>B(t.name,{x:t.x,y:t.y,z:t.z})},null,40,xe),[[q,t[p]]])),64))]),u("div",null,[a[5]||(a[5]=u("span",null,"缩放:",-1)),j(u("input",{type:"text","onUpdate:modelValue":p=>t.s=p,onInput:p=>d(t.name,{s:t.s})},null,40,Oe),[[q,t.s]])]),u("div",null,[Y(l,{modelValue:n(o).panelValue,"onUpdate:modelValue":a[0]||(a[0]=p=>n(o).panelValue=p),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"},"active-text":"选中子网格","inactive-text":"选中子网格",onChange:a[1]||(a[1]=p=>n(Ne)(n(o).panelValue))},null,8,["modelValue"])]),u("div",null,[u("button",{onClick:p=>k(t.name)},"删除",8,We),u("button",{onClick:p=>M(t.name)},"还原",8,Ge),u("button",{onClick:p=>I(t.name)},S(t.showhidden?"隐藏":"显示"),9,He)])]))),128))])])}}},Je=Ie(Re,[["__scopeId","data-v-70eb1b17"]]);export{Je as default};
